<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:utext="${title}"></title>
    <style>
        /*菜鳥教程移動web開發兼容性處理*/
        body {
            font-family: "微軟雅黑", "Helvetica Neue", Helvetica, STHeiTi, sans-serif;
        }
        select {
            border: solid 1px #CCC;
            appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
            padding-right: 14px;
        }

        select::-ms-expand {
            display: none;
        }

        /*全局*/
        * {
            padding: 0;
            margin: 0;
            font-family: 微软雅黑;
        }

        body {
            background: url(https://img.alicdn.com/imgextra/i2/2445381426/TB2eKTbdQfb_uJkSnfoXXb_epXa_!!2445381426.jpg) no-repeat fixed;
            background-size: 100% 100%;
        }

        ul li {
            list-style: none;
        }

        /*整体*/
        #content_box {
            background: rgba(0, 0, 0, .3);
            max-width: 620px;
            padding: 0 10px;
            margin: 0 auto;
            position: relative;
        }

        /*顶部*/
        #content_box>.top

            /*部分*/
        #content_box>.section {
            margin-top: 20px;
            background: #FFF;
            border-radius: 8px 8px 0 0;
            overflow: hidden;
        }

        /*部分标题*/
        .section>.notes {
            height: 40px;
            line-height: 40px;
            text-indent: 1rem;
        }

        .section>.notes::before {
            content: "";
            display: inline-block;
            width: 4px;
            height: 18px;
            background: #dc7d2a;
            margin-right: 8px
        }

        /*商品图片部分*/
        #commodity_images {
            line-height: 0;
        }

        #commodity_images img {
            width: 100%;
        }

        /*限时折扣部分*/
        #time_limit .time {
            background: #FF9800;
            color: white;
            padding: 1px 5px;
            border-radius: 4px;
            margin-left: 15px;
        }

        #time_limit .details li {
            float: left;
            color: #FFF;
            padding: 5px 0;
        }

        #time_limit .details li:first-child {
            width: 60%;
        }

        #time_limit .details li:last-child {
            width: 40%;
        }

        #time_limit .current_price {
            background: #d42e22;
            height: 90px;
            line-height: 90px;
            text-indent: 15px;
        }

        #time_limit .current_price .currency_symbol {
            font-size: 1.2rem;
        }

        #time_limit .current_price .price {
            font-size: 2rem;
        }

        #time_limit .other {
            background: #bf0d00;
        }

        #time_limit .other div {
            height: 30px;
            line-height: 30px;
            text-align: center;
        }

        #time_limit .count_down {
            background: #98878F;
            text-align: center;
        }

        #time_limit .count_down div {
            height: 30px;
            line-height: 30px;
        }

        #time_limit .product_title {
            float: left;
            width: 100%;
            padding: 15px;
            line-height: 25px;
            font-weight: bold;
            box-sizing: border-box;
        }

        #time_limit .product_service {
            float: left;
            width: 100%;
            padding: 5px 0;
            border-top: 1px solid #CCC;
            border-bottom: 1px solid #CCC;
        }

        #time_limit .product_service span {
            display: inline-block;
            background: #d42e22;
            color: #FFF;
            margin: 5px 5px 5px 10px;
            padding: 3px 8px;
        }

        #time_limit .product_introduction {
            padding: 0 10px;
            line-height: 25px;
            color: red;
        }

        /*商品属性*/
        /*#commodity_property dd {line-height:0;}*/
        #commodity_property_images img {
            display: block;
        }

        #commodity_property img {
            width: 100%;
        }

        /*客户评价*/
        #customer_evaluation dd {
            height: 640px;
            overflow: hidden;
        }

        #customer_evaluation ul {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
        }

        #customer_evaluation li {
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
            margin: 1px;
            display: flex;
            box-sizing: border-box;
            padding: 5px 0px;
        }

        #customer_evaluation img {
            height: 150px;
        }

        #customer_evaluation .name {
            color: #555;
            font-size: 16px;
            padding: 0 20px;
        }

        #customer_evaluation .evaluate {
            color: #777;
            font-size: 16px;
            position: relative;
        }

        /*立即下单*/
        #beli_sekarang>#product_set_meal {
            padding: 0 10px;
        }

        #beli_sekarang>#product_set_meal>dl {
            padding: 5px 0;
            border-bottom: 1px solid #CCC;
            display: none;
        }

        #beli_sekarang>#product_set_meal>dl:first-of-type {
            display: block;
        }

        #beli_sekarang>#product_set_meal .title {
            color: #192231;
            font-weight: bold;
        }

        #beli_sekarang>#product_set_meal [init="currency_symbol"],
        #beli_sekarang>#product_set_meal [init="current_price"] {
            color: red;
        }

        #beli_sekarang .btn_block button {
            background: #FFF;
            color: #555;
            border: 1px solid #CCC;
            outline: none;
            cursor: pointer;
            height: 35px;
            line-height: 35px;
            padding: 0 10px;
            border-radius: 5px;
            margin: 5px 5px 5px 0;
        }

        #beli_sekarang .btn_block .selected {
            border: 2px solid red;
            padding: 0 9px;
            margin: 4px 5px 4px 0;
            color: red;
        }

        #beli_sekarang .img_block {
            overflow: hidden;
        }

        #beli_sekarang .img_block div {
            float: left;
            width: 100px;
            padding: 4px;
            border: 1px solid #CCC;
            border-radius: 5px;
            margin: 5px 5px 5px 0;
        }

        #beli_sekarang .img_block img {
            width: 100px;
            height: 100px;
        }

        #beli_sekarang .img_block .selected {
            border: 2px solid red;
            padding: 3px;
            color: red;
        }

        #beli_sekarang #customer_info {
            padding: 10px;
        }

        #beli_sekarang #customer_info .title {
            color: #192231;
            font-weight: bold;
        }

        #beli_sekarang #customer_info input {
            width: 100%;
            height: 35px;
            line-height: 35px;
            border-radius: 5px;
            outline: none;
            border: 1px solid #bbb;
            padding-left: 2%;
            margin: 5px 0;
            box-sizing: border-box;
        }

        #beli_sekarang #customer_info select {
            width: 33.33%;
            height: 35px;
            line-height: 35px;
            padding-left: 1%;
            outline: none;
            border: 1px solid #CCC;
            margin: 5px 0;
            box-sizing: border-box;
            outline: 0;
            background: #FFF;
            font-size: 15px;
        }

        #beli_sekarang select {
            padding-left: 10px;
        }

        #beli_sekarang select option:nth-of-type(2n) {
            background: #f9f9f9;
            color: #555;
        }

        #beli_sekarang #customer_info select:first-of-type {
            border-radius: 5px 0 0 5px;
        }

        #beli_sekarang #customer_info select:last-of-type {
            border-radius: 0 5px 5px 0;
        }

        #beli_sekarang #customer_info #submit {
            width: 100%;
            background: #d42e22;
            height: 40px;
            line-height: 40px;
            border: 0;
            color: #FFF;
            font-size: 25px;
            outline: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }

        #beli_sekarang #customer_info dt .star {
            color: red;
            font-size: 20px;
        }

        #beli_sekarang #payment_method button {
            background: #FFF;
            color: #000;
            border: 1px solid #CCC;
            outline: none;
            cursor: pointer;
            height: 35px;
            line-height: 35px;
            padding: 0 10px;
            border-radius: 5px;
            margin: 5px 5px 5px 0;
        }

        /*qj改动*/
        #beli_sekarang #payment_method button:not(:first-of-type) {
            display: none;
        }

        .addr {
            background: #e5e5e5;
            cursor: not-allowed;
        }

        /*qj改动*/
        #beli_sekarang #payment_method .selected {
            border: 2px solid red;
            padding: 0 9px;
            margin: 4px 5px 4px 0;
            color: red;
        }

        #beli_sekarang .set_meal_price .price {
            font-size: 20px;
            /*margin-top:5px;*/
            color: red;
        }

        #beli_sekarang .order_price .title {
            margin: 10px 0;
        }

        #beli_sekarang .order_price .title [init="currency_symbol"] {
            color: #000 !important;
        }

        #beli_sekarang .order_price .ordered {
            margin: 10px 0;
        }

        #beli_sekarang .order_price .price_blok {
            text-align: right;
            color: red;
            font-size: 20px;
            margin: 5px;
        }

        #beli_sekarang table {
            width: 100%;
            border-collapse: collapse;
        }

        #beli_sekarang table tr {
            border: 1px solid #CCC;
            border-top: 0;
        }

        #beli_sekarang table tr:first-child {
            background: red;
            color: #FFF;
            line-height: 30px;
            border: 0;
        }

        #beli_sekarang tr td:first-child {
            line-height: 0;
        }

        #beli_sekarang tr td:first-child img {
            margin: 5px;
            width: 100px;
            height: 100px;
        }

        #beli_sekarang tr th,
        #beli_sekarang tr td {
            text-align: center;
            width: 25%;
            box-sizing: border-box;
        }

        /*用户需知*/
        #pemberitahuan_pelanggan {
            background: rgba(255, 255, 255, 0.5) !important;
        }

        #pemberitahuan_pelanggan a {
            color: #8a0000;
        }

        #pemberitahuan_pelanggan dt {
            background: #fff;
        }

        #pemberitahuan_pelanggan dd {
            padding: 10px;
        }

        #pemberitahuan_pelanggan p {
            margin: 5px 0;
        }

        #pemberitahuan_pelanggan dd .title {
            margin-top: 10px;
            color: #b11207;
        }

        /*底部*/
        .bottom {
            position: fixed;
            bottom: 0;
            min-width: 620px;
            z-index: 999;
        }

        .bottom button {
            width: 100%;
            background: #d42e22;
            height: 50px;
            line-height: 50px;
            border: 0;
            color: #FFF;
            font-size: 25px;
            outline: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /*弹出框*/
        #pop_up_box {
            position: fixed;
            background: rgba(0, 0, 0, 0.8);
            top: 0;
            left: 0;
            width: 100%;
            display: none;
        }

        #pop_up_box .box {
            background: #FFF;
            position: absolute;
            max-width: 600px;
        }

        #pop_up_box dt {
            text-align: center;
        }

        #pop_up_box p {
            margin: 5px;
            font-size: 14px;
        }

        #pop_up_box .close {
            position: absolute;
            width: 30px;
            height: 30px;
            top: -10px;
            right: -10px;
            border-radius: 16px;
            cursor: pointer;
        }

        #pop_up_box .success {
            margin-top: 20px;
            width: 60px;
        }

        #pop_up_box .info {
            width: 85%;
            margin: 0 auto;
            padding: 2px;
            border: 2px solid #333;
            padding: 3px;
        }

        #pop_up_box .info div {
            border: 1px solid #333;
            padding: 0 10px;
        }

        #pop_up_box .notify {
            width: 88%;
            margin: 5px auto;
            text-indent: 1rem;
        }

        #pop_up_box .btn {
            width: 88%;
            margin: 0 auto;
            overflow: hidden;
        }

        #pop_up_box .btn a {
            text-align: center;
            display: inline-block;
            background-color: #333;
            width: 48%;
            line-height: 2;
            color: #fff;
            border-radius: 2px;
            box-shadow: 1px 1px 5px #ccc;
            padding: 0 2%;
            box-sizing: border-box;
            text-decoration: none;
            margin-bottom: 20px;
        }

        #pop_up_box .btn a:first-of-type {
            float: left;
        }

        #pop_up_box .btn a:last-of-type {
            float: right;
        }

        /*回到頂部*/
        #to_top {
            position: fixed;
            width: 40px;
            height: 40px;
            background: rgba(255, 0, 0, 0.66);
            bottom: 80px;
            right: 20px;
            z-index: 100;
            border-radius: 40px;
            color: #FFF;
            text-align: center;
            line-height: 40px;
            cursor: pointer;
        }

        @media screen and (max-width:620px) {
            .bottom button {
                width: 100%;
            }
        }

        /*--------------评论--------------*/
        .touxiang {
            background: url(https://img.alicdn.com/imgextra/i1/1048010507/O1CN011FcFFXTu088cfGs_!!1048010507.png);
            background-size: 40px 40px;
            width: 40px;
            height: 40px;
            padding: 0px;
            margin: 0px;
            display: block;
            vertical-align: top;
        }

        .clearfix:before,
        .clearfix:after {
            content: "";
            display: table;
        }

        .clearfix:after {
            clear: both;
        }

        .clearfix {
            *zoom: 1;
        }

        .evaluate_bg {
            padding: 8px;
            border-radius: 0.5em;
            min-width: 51%;
            margin-left: 0.8em;
            display: inline-block;
            height: auto;
            width: 80%;
        }

        /*蓝色*/
        [init='customer_evaluation_ul'] li:nth-child(odd) .evaluate_bg {
            background: rgb(188, 227, 249);
        }

        [init='customer_evaluation_ul'] li:nth-child(odd) .evaluate_bg:before {
            content: "";
            display: inline-block;
            position: absolute;
            height: 20px;
            width: 20px;
            left: -20px;
            background: url(https://img.alicdn.com/imgextra/i3/1048010507/O1CN011FcFFXTu07yEsbC_!!1048010507.png) no-repeat;
            transform: rotate(180deg);
            -ms-transform: rotate(180deg);
            -moz-transform: rotate(180deg);
            -webkit-transform: rotate(180deg);
            -o-transform: rotate(180deg);
        }

        /*橙色*/
        [init='customer_evaluation_ul'] li:nth-child(even) .evaluate_bg {
            background: rgb(255, 228, 200);
        }

        [init='customer_evaluation_ul'] li:nth-child(even) .evaluate_bg:before {
            content: "";
            display: inline-block;
            position: absolute;
            height: 20px;
            width: 20px;
            left: -20px;
            background: url(https://img.alicdn.com/imgextra/i2/1048010507/O1CN011FcFFXeswzK9b45_!!1048010507.png) no-repeat;

        }

        #customer_evaluation .icon {
            transform: rotate(180deg);
            -ms-transform: rotate(180deg);
            -moz-transform: rotate(180deg);
            -webkit-transform: rotate(180deg);
            -o-transform: rotate(180deg);
            vertical-align: top;
            height: 20px;
        }

        #customer_evaluation .icon2 {
            vertical-align: top;
            margin-top: 10px;
            height: 20px;
        }

        /*--------后期变动-------*/
        .product_attribute {
            font-size: 14px;
            color: #555;
        }

        #s_province,
        #s_city,
        #s_county {
            color: #777;
        }

        [init="set_meal_btn_block"]>[disabled="disabled"],
        .product_attribute>.img_block>[disabled="disabled"],
        .product_attribute>.btn_block>[disabled="disabled"] {
            text-decoration: line-through !important;
            background: #CCC !important;
            color: #FFF !important;
            cursor: not-allowed !important;
        }

        /*更多商品*/
        .section {
            border-radius: 0;
            margin-top: 20px;
            background: #FFF;
            border-radius: 8px 8px 0 0;
            overflow: hidden;
        }

        .section .swiper-slide {
            text-align: center;
        }

        .section .swiper-slide img {
            width: 90%;
        }

        .section .swiper-slide p {
            font-size: 12px;
            color: #333;
            padding: 0 10px;
            line-height: 30px;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .section .swiper-slide {
            text-decoration: none;
            overflow: hidden;
        }

        @media screen and (max-width: 400px) {
            #beli_sekarang .img_block div {
                width: 27%;
            }

            #beli_sekarang .img_block img {
                width: 100%;
            }
        }

        .swiper-container {
            padding: 0 !important;
        }
    </style>
    <script type="text/javascript" src="teml1/words.js"></script>
    <script type="text/javascript" src="teml1/jquery.js"></script>
    <style type="text/css">
        @font-face {
            font-family: 'rbicon';
            src: url(chrome-extension://dipiagiiohfljcicegpgffpbnjmgjcnf/fonts/rbicon.woff2) format("woff2");
            font-weight: normal;
            font-style: normal;
        }
        .show_meat{
            display:none;
        }
    </style>
</head>
<body>
<div id="content_box">
    <div class="top" init="product_top"
         style="line-height:40px;color:#FFF;font-weight:bold;text-align:center;border-bottom:1px solid #FFF;font-size:20px;">
    </div>
    <!--图片轮播-->
    <dl class="section" id="commodity_images"
        style="border-radius: 0; margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <dt class="notes" style="display: none;">商品圖片</dt>
        <dd id="product_first_image"  class="swiper-container">
            <div class="swiper-wrapper" th:if="${not #lists.isEmpty(product.roundImageList)}"  th:each="item :${product.roundImageList}"
                 style="transform: translate3d(-1240px, 0px, 0px); transition-duration: 0ms; height: 100%">
                <img class="swiper-slide swiper-slide-prev swiper-slide-duplicate-next" th:src="${item.url}" width="100%"
                    data-swiper-slide-index="0" style="width: 620px;">
            </div>
            <link rel="stylesheet" href="teml1/swiper.css">
            <script type="text/javascript" src="teml1/swiper.js"></script>
            <script>
                var mySwiper = new Swiper('.swiper-container', {
                        autoplay: 2000,
                        loop: true,
                    });
            </script>
        </dd>
    </dl>
    <!--限時折扣 -->
    <dl class="section" id="time_limit"
        style="margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <dt class="notes">
            <span th:utext="#{label.click.flash_sale}"></span>
            <span class="time">14:09:11</span>
        </dt>
        <dd>
            <ul class="details">
                <li class="current_price" style="background-color: rgb(212, 46, 34);">
                    <!--现价-->
                    <span init="currency_symbol" th:utext="${product.unit}"></span>
                    <span class="price" init="current_price" th:utext="${product.price}"></span>
                </li>
                <li class="other" style="background-color: rgb(191, 13, 0);">
                    <!--原价-->
                    <div class="original_price">
                        <del>
                            <span init="currency_symbol" th:utext="${product.unit}"></span>
                            <span init="original_price" th:utext="${product.o_price}"></span>
                        </del>
                    </div>
                    <div>
                        <span word="折扣"></span>
                        <span></span></div>
                    <div>
                        <span th:utext="#{label.click.rush_to_buy}"></span>:<span th:utext="${product.sold}"></span>
                    </div>
                </li>
            </ul>
            <!--产品标题-->
            <div class="product_title" th:utext="${title}"></div>
            <!--配送方式-->
            <div class="product_service">
                <span th:utext="#{label.click.free_freight}"></span>
                <span th:utext="#{label.click.delivery_to_payment}"></span>
                <span th:utext="#{label.click.return_goods}"></span>
            </div>
            <!--产品简介-->
            <div class="product_introduction" init="product_introduction" th:utext="${product.introduction}"></div>
        </dd>
    </dl>
    <!---详情-->
    <dl class="section" id="commodity_property"
        style="margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <dt class="notes">
            <span th:utext="#{label.click.introduction}"></span>
        </dt>
        <dd id="commodity_property_images" th:utext="${product.description}"></dd>
    </dl>
    <!--客服评论-->
    <dl class="section" id="customer_evaluation" th:if="${product.comment}"
        style="margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <dt class="notes">
            <span th:utext="#{label.click.pj}"></span>
        </dt>
        <dd>
            <ul init="customer_evaluation_ul" style="margin-top: -792.843px;" th:if="${not #lists.isEmpty(product.commentEntityList)}">
                <li class="clearfix" th:each="item :${product.commentEntityList}">
                    <div class="name">
                        <span class="touxiang"></span>
                        <span th:utext="${item.comment_name}"></span>
                    </div>
                    <div class="evaluate evaluate_bg">
                        <span th:utext="${item.comment_content}"></span>
                        <div class="images" th:if="${item.imageEntity != null}">
                            <img th:src="${item.imageEntity.url}">
                        </div>
                    </div>
                </li>
            </ul>
        </dd>
    </dl>
    <!--立即下單-->
    <dl class="section" id="beli_sekarang"
        style="margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <dt class="notes add_to_cart">
            <span th:utext="#{label.click.purchase_immediately}"></span>
        </dt>
        <dd id="product_set_meal" th:if="${product.cl_id == 2 }">
            <dl id="set_meal" th:if="${product.cl_id == 2 }">
                <dt class="title">
                    <span th:utext="#{label.click.choice.meal}"></span>:
                </dt>
                <dd class="btn_block" id="set_meal_btn_block" th:if="${not #lists.isEmpty(product.policys)}">
                    <button type="button" th:show="${'meal_'+start.index}" th:price="${item.tcmoney}"
                            th:tcnum="${item.tcnum}" th:postage="${start.index}" th:data-id="${item.id}"
                            th:class="${start.index ==0?'selected':''}" th:each="item,start :${product.policys}" th:utext="${item.tcname}">

                    </button>
                </dd>
            </dl>
            <dl class="set_meal_price" style="display: block;">
                <dt class="title">
                    <span th:utext="#{label.click.page.price}"></span>:
                </dt>
                <dd class="price">
                    <span init="currency_symbol" style="font-size: 20px;" th:utext="${product.unit}"></span>
                    <span id="set_meal_price_1" style="font-size: 20px;"
                          th:utext="${product.cl_id == 2 && not #lists.isEmpty(product.policys)?product.policys[0].tcmoney:product.price}"></span>
                </dd>
            </dl>
            <div th:class="${start.index == 0?'':'show_meat'}" data-meal-info th:id="${'policy_meal_'+item.id}"
                 style="border-bottom:1px solid #ccc" th:if="${not #lists.isEmpty(product.policys)}" th:each="item,start:${product.policys}">
                <div  th:if="${#lists.isEmpty(product.types) and #lists.isEmpty(product.sizes)}">
                    <dl data-type="product_attribute_type" class="product_attribute"
                        style="display: block;">
                        <dt class="title" th:utext="${product.name}"></dt>
                        <dd class="img_block type_attr">
                            <div  style="text-align: center;cursor: pointer;" class="selected" >
                                <img th:if="${product.mainImage != null }" th:src="${product.mainImage.url}"
                                     style="height: 100px;">
                            </div>
                        </dd>
                    </dl>
                </div>
                <div  th:if="${not #lists.isEmpty(product.types) || not #lists.isEmpty(product.sizes)}" th:each="tindex:${#numbers.sequence(1,item.tcnum)}">
                    <dl data-type="product_attribute_type" class="product_attribute"
                        th:if="${not #lists.isEmpty(product.types)}"
                        style="display: block;">
                            <dt class="title" th:utext="#{label.click.yanse}"></dt>
                            <dd class="img_block type_attr">
                                <div th:back_text="${t.type_value}" style="text-align: center;cursor: pointer;" th:class="${tstart.index == 0?'selected':''}" th:each="t,tstart:${product.types}">
                                    <img th:if="${t.imageEntity != null && tindex == 1}" th:src="${t.imageEntity.url}"
                                         style="height: 100px;">
                                    <img th:if="${t.imageEntity != null && tindex != 0 && item.tcattr}" th:src="${t.imageEntity.url}"
                                         style="height: 100px;">
                                    <span th:utext="${t.type_lable}"></span>
                                </div>
                            </dd>
                    </dl>
                    <dl data-size="product_attribute_size" class="product_attribute"
                            th:if="${not #lists.isEmpty(product.sizes)}"
                            style="display: block;">
                            <dt class="title" th:utext="#{label.click.chima}"></dt>
                            <dd class="img_block size_attr">
                                <div th:back_text="${s.size_label}" style="text-align: center;cursor: pointer" th:class="${sstart.index == 0?'selected':''}" th:each="s,sstart:${product.sizes}">
                                    <span th:utext="${s.size_value}"></span>
                                </div>
                            </dd>
                    </dl>
                </div>

                <!--赠品-->
                <div th:if="${not #lists.isEmpty(item.gir)}" th:each="gir:${item.gir}">
                    <div th:if="${gir.giftEntity != null &&  #lists.isEmpty(gir.giftEntity.zptypes) &&  #lists.isEmpty(gir.giftEntity.zpsizes)}">
                        <div  style="border-top: 1px solid #ccc;line-height: 40px">
                            <span style="color: red;font-size: 20px" th:utext="#{label.order.free}"></span><span th:utext="${gir.giftEntity != null?gir.giftEntity.name:''}"></span>
                        </div>
                        <dl data-type="gir_attribute_type" class="product_attribute">
                            <dd class="img_block type_attr">
                                <div  style="text-align: center;cursor: pointer;" th:class="selected">
                                    <img th:if="${gir.giftEntity.imageEntity != null}" th:src="${gir.giftEntity.imageEntity.url}"
                                         style="height: 100px;">
                                    <span th:if="${gir.giftEntity.imageEntity == null}" th:utext="${gir.giftEntity.name + ' X ' + gir.zpnum}"></span>
                                </div>
                            </dd>
                        </dl>
                    </div>
                    <div th:each="zptindex:${#numbers.sequence(1,gir.zpnum)}"
                         th:if="${gir.giftEntity != null && (not #lists.isEmpty(gir.giftEntity.zptypes) || not #lists.isEmpty(gir.giftEntity.zpsizes))}">
                        <div  style="border-top: 1px solid #ccc;line-height: 40px">
                            <span style="color: red;font-size: 20px" th:utext="#{label.order.free}"></span><span th:utext="${gir.giftEntity != null?gir.giftEntity.name:''}"></span>
                        </div>
                        <dl data-type="gir_attribute_type" class="product_attribute"
                            th:if="${gir.giftEntity != null && not #lists.isEmpty(gir.giftEntity.zptypes)}">
                            <dt class="title" th:utext="#{label.click.yanse}"></dt>
                            <dd class="img_block type_attr">
                                <div th:back_text="${zpt.zptvalue}" style="text-align: center;cursor: pointer;" th:class="${zptstart.index == 0?'selected':''}"
                                     th:each="zpt,zptstart:${gir.giftEntity.zptypes}">
                                    <img th:if="${zpt.imageEntity != null}" th:src="${zpt.imageEntity.url}"
                                         style="height: 100px;">
                                    <span th:utext="${zpt.zptlable}"></span>
                                </div>
                            </dd>
                        </dl>
                        <dl data-size="gir_attribute_size" class="product_attribute" style="display: block;"
                            th:if="${gir.giftEntity != null && not #lists.isEmpty(gir.giftEntity.zpsizes)}">

                            <dt class="title" th:utext="#{label.click.chima}"></dt>
                            <dd class="img_block size_attr">
                                <div th:back_text="${zps.zpzvalue}" style="text-align: center;cursor: pointer" th:class="${zpsstart.index == 0?'selected':''}"
                                     th:each="zps,zpsstart:${gir.giftEntity.zpsizes}">
                                    <span th:utext="${zps.zpzlable}"></span>
                                </div>
                            </dd>
                        </dl>
                    </div>

                </div>
            </div>
            <!--价格数量提示-->
            <dl class="order_price" style="display: block;">
                <dt class="title"></dt>
                <dd class="ordered">
                    <div class="price_blok price_1">
                        <span th:utext="#{label.click.shuliang }">數量</span>
                        <span class="number" id="set_meal_num_1" th:utext="${product.cl_id == 2 && not #lists.isEmpty(product.policys)?product.policys[0].tcnum:1}"></span>，
                        <span th:utext="#{label.click.heji}"></span><span init="currency_symbol" th:utext="${product.unit}"></span>
                        <span class="price" id="set_meal_price_2" th:utext="${product.cl_id == 2 && not #lists.isEmpty(product.policys)?product.policys[0].tcmoney:product.price}"></span>
                    </div>
                </dd>
            </dl>
        </dd>
        <!--表单-->
        <dd id="customer_info">
            <form>
                <dl>
                    <dt class="title">
                        <span class="star">*</span><b>
                        <span th:utext="#{label.click.pay.method}"></span>:</b>
                    </dt>
                    <!-- qj改动 -->
                    <dd id="payment_method">
                        <button type="button" class="selected" method="roc"><span th:utext="#{label.click.delivery_to_payment}"></span></button>
                        <button type="button" method="roc_711" style="display: inline-block;" th:if="${product.country == 'TW'}">711超商取貨</button>
                        <button type="button" method="roc_qj" style="display: inline-block;"  th:if="${product.country == 'TW'}">全家取貨</button>
                    </dd>
                    <!-- qj改动 -->
                    <dt class="title">
                        <span class="star">*</span><b>
                        <span th:utext="#{label.click.name}"></span></b>
                    </dt>
                    <dd>
                        <input type="text" name="username" th:placeholder="#{label.click.name.msg}" >
                    </dd>
                    <dt class="title">
                        <span class="star">*</span><b>
                        <span th:utext="#{label.click.telephone}"></span></b>
                    </dt>
                    <dd>
                        <input type="text" name="mobile" th:placeholder="#{label.click.telephone.msg}" >
                    </dd>
                    <dt class="title">
                        <span class="star">*</span><b>
                        <span th:utext="#{label.click.area}"></span></b>
                    </dt>
                    <!-- qj改动 -->
                    <dd id="area">
                        <select id="s_province" name="cusprovince">
                            <option value="國家/地區">國家/地區</option>
                        </select><select id="s_city" name="cuscity">
                        <option value="縣/市">縣/市</option>
                    </select><select id="s_county" name="cusarea">
                        <option value="鎮/鄉/區">鎮/鄉/區</option>
                    </select>
                       <!--<script type="text/javascript" src="https://dsaf465859jzs.cloudfront.net/c1/area_tw.js"></script>-->
                       <!--<script type="text/javascript" src="https://dsaf465859jzs.cloudfront.net/c1/area_th.js"></script>-->
                       <!--<script type="text/javascript" src="https://dsaf465859jzs.cloudfront.net/c1/area_mlxy.js"></script>-->
                        <script type="text/javascript" src="teml1/roc.js"></script>
                        <script type="text/javascript" src="teml1/roc_711.js"></script>
                        <script type="text/javascript" src="teml1/roc_qj.js"></script>
                    </dd>
                    <!-- qj改动 -->
                    <dt class="title" id="address">
                        <span class="star">*</span>
                        <b th:utext="#{label.click.address}"></b>：
                    </dt>
                    <dd>
                        <input type="text" name="addr" th:placeholder="#{label.click.address.msg}">
                    </dd>
                    <dt class="title"><b><span th:utext="#{label.click.zip }"></span></b>：</dt>
                    <dd >
                        <input type="text" name="postal"  word="表单-邮政区号-填写提示">
                    </dd>
                    <dt class="title"><b><span word="表单-E-mail">E-mail</span></b>：</dt>
                    <dd>
                        <input type="text" name="mail"  \>
                    </dd>
                    <dt class="title"><b><span th:utext="#{label.click.msg}"></span></b>：</dt>
                    <dd>
                        <input type="text" name="remark" >
                    </dd>
                    <dd>
                        <button type="button" id="submit"><span th:utext="#{label.click.pay}"></span></button>
                    </dd>
                </dl>
                <!--表單隱藏域start-->
                <input type="hidden" name="protype" value="不用動手清洗眼鏡了！視覺疲勞模糊、流淚和異物感統統消除！+200得第三件！">
                <!--表單隱藏域end-->
            </form>
        </dd>
    </dl>
    <!--客服须知-->
    <dl class="section" id="pemberitahuan_pelanggan"
        style="margin-top:20px;background:#FFF;border-radius:8px 8px 0 0;overflow:hidden;">
        <a name="pemberitahuan_pelanggan"></a>
        <dt class="notes"><span th:utext="#{label.click.condition}"></span></dt>
        <dd>
            <p style="text-indent: 2rem;"><span th:utext="#{label.click.to.know1}"></span></p>
            <span  class="title" th:utext="#{label.click.to.know2}"></span>
            <p style="text-indent: 2rem;"><span th:utext="#{label.click.to.tnow3}"></span><a
                    href="mailto:wisinmy@hotmail.com">wisinmy@hotmail.com</a>
                <span th:utext="#{label.click.to.tnow4}"></span></p>
            <span  class="title" th:utext="#{label.click.to.tnow5}"></span>
            <p style="text-indent: 2rem;">
                <span th:utext="#{label.click.to.tnow6}"></span></p>
            <span  class="title" th:utext="#{label.click.to.tnow7}"></span>
            <p style="text-indent: 2rem;"><span th:utext="#{label.click.to.tnow8}"></span><a
                    href="mailto:wisinmy@hotmail.com">wisinmy@hotmail.com</a>
                <span th:utext="#{label.click.to.tnow9}"></span></p>
            <span  class="title" th:utext="#{label.click.to.tnow10 }"></span>
            <p style="text-indent: 2rem;"><span th:utext="#{label.click.to.tnow11}"></span>
            </p>
            <span><span  class="title" th:utext="#{label.click.to.tnow12}"></span><br>
                <span  class="title" th:utext="#{label.click.to.tnow13 }"></span></span>
            <p style="text-indent: 2rem;"><span word="客户须知14" th:utext="#{label.click.to.tnow14}"></span>
            </p>
        </dd>
    </dl>

    <div id="to_top">Top</div>
    <div class="bottom">
        <button type="button" id="add_to_cart_btn" class="add_to_cart"
                style="background-color: rgb(212, 46, 34); width: 620px; display: inline-block;"><span th:utext="#{label.click.now.buy}"></span>
        </button>
    </div>
    <div id="pop_up_box">
        <dl class="box">
            <dt>
                <img src="teml1/TB2_WnPcgfH8KJjy1zcXXcTzpXa_!!2445381426.png"
                     class="close">
                <img src="teml1/TB2OgOXbwmTBuNjy1XbXXaMrVXa_!!2445381426.png"
                     class="success">
                <p><span word="弹出框-购买成功">購買成功！</span></p>
            </dt>
            <dd class="info">
                <div>
                    <p class="number"><span word="弹出框-编号">編號</span>:<span class="value"></span></p>
                    <p class="name"><span word="弹出框-姓名">姓名</span>:<span class="value"></span></p>
                    <p class="product"><span word="弹出框-商品">商品</span>:<span class="value"></span></p>
                    <p class="price"><span word="弹出框-价格">價格</span>:<span class="value"></span></p>
                    <p class="moblie"><span word="弹出框-手机号码">手機號碼</span>:<span class="value"></span></p>
                    <p class="address"><span word="弹出框-详细地址">詳細地址</span><span class="value"></span></p>
                </div>
            </dd>
            <dd class="notify"><span word="弹出框-温馨提示">您訂購的商品將於7到10個工作日內送達！貨到付款！免郵遞費！如有問題可以在正常工作時間聯繫我們！</span></dd>
        </dl>
    </div>
</div>
<script>
    // 倒计时start
    (function () {
        setInterval(function () {
            var leftTime = (new Date(2118, 0, 1, 0, 0, 0)) - (new Date());
            var hours = parseInt(leftTime / 1000 / 60 / 60 % 24, 10);
            var minutes = parseInt(leftTime / 1000 / 60 % 60, 10);
            var seconds = parseInt(leftTime / 1000 % 60, 10);
            hours = hours < 10 ? '0' + hours : hours;
            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            $("#time_limit .time").text(hours + ':' + minutes + ':' + seconds);
        }, 1000);
    })();
    // 倒计时 end
    // 客户评论滚动事件start
    (function () {
        var list = $("#customer_evaluation li").clone(true);
        $("#customer_evaluation ul").append(list);
        var end = -$("#customer_evaluation ul").height() / 2 + "px";
        var time = $("#customer_evaluation li").size() * 1000;
        function customerEvaluationSlide() {
            $("#customer_evaluation ul").css('margin-top', 0).stop().animate({
                "margin-top": end
            }, time, "linear", function () {
                customerEvaluationSlide();
            });
        };
        customerEvaluationSlide();
    })();
    // 客户评论滚动事件end
    // 页面滚动监听事件start
    (function () {
        $(document, window).on("scroll", function (e) {
            var flag = $("html,body").scrollTop() + $(window).height();
            if ($("#beli_sekarang").offset().top < flag) {
                $(".bottom button").hide();
            } else {
                $(".bottom button").show();
            }
        });
    })();
    // 页面滚动监听事件end

    // 底部立即下单点击事件start
    (function () {
        $(".bottom button").on("click", function () {
            $("html,body").animate({
                scrollTop: $("#beli_sekarang").offset().top
            })
        });
    })();
    // 底部立即下单点击事件end
    // 回到頂部事件start
    (function () {
        $("#to_top").on("click", function () {
            $("html,body").animate({
                scrollTop: 0
            })
        });
        if($(window).width() < 620){
            var w = $(window).width()-20;
            $("#add_to_cart_btn").css("width",w+"px");
        }else{
            $("#add_to_cart_btn").css("width","620px");
        }
    })();
    $(window).resize(function () {
        if($(window).width() < 620){
            var w = $(window).width()-20;
            $("#add_to_cart_btn").css("width",w+"px");
        }else{
            $("#add_to_cart_btn").css("width","620px");
        }
    });
    // 回到頂部事件end
    //套餐点击 start
    $(function () {
        $("#set_meal_btn_block button").bind('click',function () {
            $(this).addClass("selected")
            $(this).siblings("button").removeClass("selected");
            $("#set_meal_price_1").text($(this).attr("price"));
            $("#set_meal_price_2").text($(this).attr("price"));
            $("#set_meal_num_1").text($(this).attr("tcnum"));
            $("div[data-meal-info]").addClass("show_meat");
            var meal =$("#policy_meal_"+$(this).attr("data-id"));
            $(meal).removeClass("show_meat");

        })
    })
    //套餐点击 end
    //颜色 start
    $(function () {
        $("dd[class='img_block type_attr'] div").bind('click',function () {
            $(this).addClass("selected")
            $(this).siblings("div").removeClass("selected");
        })
    });
    //颜色 end
    //尺码 start
    $(function () {
        $("dd[class='img_block size_attr'] div").bind('click',function () {
            $(this).addClass("selected")
            $(this).siblings("div").removeClass("selected");
        })
    })
    //尺码 end
    //付款方式
    $(function () {
        $("#payment_method button").bind('click',function () {
            $(this).addClass("selected")
            $(this).siblings("button").removeClass("selected");
        })
    })
    // 付款方式start
    $(function () {
        var currency="NT$";
        // qj改动
        if (currency == "NT$") {
            var init = ["國家/地區", "縣/市", "鎮/鄉/區"];
            var init2 = ["縣/市", "區/鄉鎮", "門市"];
            //判断类型
            function type_tip() {
                $("[name=addr]").val("");
                var choose, type = $("#payment_method .selected").attr("method");
                if (type == "roc") {
                    choose = init;
                    $("#address b").text("詳細地址");
                    $("[name='addr']").val("").removeClass("addr").prop("disabled", false).attr("placeholder", "請填寫收貨人的街道地址");
                } else {
                    choose = init2;
                    $("#address b").text("門市地址");
                    $("[name='addr']").addClass("addr").prop("disabled", true).attr("placeholder", "");
                }
                $("#area select").each(function (idx) {
                    $(this).html("<option value=" + choose[idx] + ">" + choose[idx] + "</option>");
                    if (idx == 0) {
                        switch (type) {
                            case "roc": roc(); break;
                            case "roc_711": roc_711(); break;
                            case "roc_qj": roc_qj(); break;
                        }
                        for (var i = 0; i < area_1.length; i++) {
                            $("<option value=" + area_1[i] + ">" + area_1[i] + "</option>").appendTo($(this));
                        }
                    }
                });
            }
            type_tip();
            //选择付款类型
            $("#payment_method button").on("click", function () {
                type_tip();
            })
            var idx = [-1, -1, -1];//记录选择的index
            $("#area select").on("change", function () {
                //清除内容
                $("[name=addr]").val("");
                $(this).nextAll("select").find("option:gt(0)").remove();
                //记录选择的index
                $("#area select").each(function (index) {
                    idx[index] = $(this).find('option:selected').index() - 1;
                })
                var current_idx = $(this).index();
                var area = current_idx < 2 ? eval("area_" + (current_idx + 2)) : [];
                var arr = area[idx[0]] || [];
                var type = $("#payment_method .selected").attr("method");
                if (type != "roc") {
                    if (current_idx == 1) {
                        arr = area[idx[0]][idx[1]];
                    }
                    if (current_idx == 2) {
                        arr = area_3[idx[0]][idx[1]][idx[2]];
                    }
                } else {
                    if (current_idx == 1) {
                        arr = area[idx[1]];
                    }
                }
                if (arr.constructor == Array) {
                    if (arr[0].constructor == String) {
                        for (var i = 0; i < arr.length; i++) {
                            $("<option value=" + arr[i] + ">" + arr[i] + "</option>").appendTo($(this).next());
                        }
                    }
                    else {
                        for (var j in arr) {
                            var name = arr[j]["POIName"] || arr[j]["name"];
                            var addr = arr[j]["Address"] || arr[j]["addr"];
                            var val = name + "-" + addr;
                            $("<option value=" + val + ">" + val + "</option>").appendTo($(this).next());
                        }
                    }
                }
                if (arr.constructor == Object) {
                    var name = arr["POIName"] || arr["name"];
                    var addr = arr["Address"] || arr["addr"];
                    var pid = arr["POIID"] || arr["pkey"];
                    var tel = arr["Telno"] || arr["tel"];
                    var val = addr + "，店名：" + name + "，店號：" + pid + "，電話：" + tel;
                    $("[name=addr]").val(val);
                }
            })
        }
        // qj改动
    });
    // 付款方式end
    window.onload=function (ev) {
        //动态改变产品图宽高
        $(".img_block img").each(function () {
            $(this).height($(this).width());
        })
    }
</script>
</body>
</html>
